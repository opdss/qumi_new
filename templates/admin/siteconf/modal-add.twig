
<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    <h4 class="modal-title">添加配置</h4>
</div>
<div class="modal-body">
    <form class="form-horizontal modal-form">
        <div class="form-group">
            <label for="name" class="col-sm-2 control-label">配置名</label>
            <div class="col-sm-8">
                <input type="text" class="form-control" id="key" name="key">
            </div>
        </div>

        <div class="form-group">
            <label for="description" class="col-sm-2 control-label">配置值</label>
            <div class="col-sm-8">
                <textarea class="form-control" rows="3" name="val" placeholder="配置值"></textarea>
            </div>
        </div>

        <div class="form-group price-group">
            <label for="price" class="col-sm-2 control-label">排序</label>
            <div class="col-sm-4">
                <input type="number" class="form-control" id="sort" name="sort">
            </div>
        </div>
    </form>
</div>
<div class="modal-footer">
    <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
    <button type="button" class="btn btn-primary modal-submit">确认</button>
</div>
<script type="text/javascript">
    (function () {
        $('.modal-submit').click(function () {
            var modalObj = $(this).parents('div.modal');
            var form = modalObj.find('form.modal-form');
            $.post('{{ path_for('admin.siteconf.add') }}', form.serialize(), function(res){
                if (res.errCode == 0) {
                    modalObj.modal('hide');
                    utils.swal.success('', true);
                } else {
                    utils.swal.error(res.errMsg);
                }
            })
        })
    })()
</script>